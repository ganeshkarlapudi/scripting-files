<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Students List</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h2>Registered Students</h2>
    <div id="list">Loading...</div>
    <p><a href="/">Home</a></p>
  </div>

<script>
fetch('/students')
  .then(res => res.json())
  .then(data => {
    if (!data || data.length === 0) {
      document.getElementById('list').innerHTML = '<em>No students registered yet.</em>';
      return;
    }
    let html = '<table><tr><th>Name</th><th>Email</th><th>Course</th><th>Phone</th></tr>';
    data.forEach(s => {
      html += `<tr><td>${s.name}</td><td>${s.email}</td><td>${s.course}</td><td>${s.phone}</td></tr>`;
    });
    html += '</table>';
    document.getElementById('list').innerHTML = html;
  })
  .catch(err => {
    document.getElementById('list').innerHTML = 'Error loading students';
  });
</script>
</body>
</html>
